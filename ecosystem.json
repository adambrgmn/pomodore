{
  /**
   * Application configuration section
   * http://pm2.keymetrics.io/docs/usage/application-declaration/
   */
  "apps": [

    // First application
    {
      "name": "Pomodore",
      "script": "server/app.js",
      "env": {
        "COMMON_VARIABLE": "true"
      }
    }
  ],

  /**
   * Deployment section
   * http://pm2.keymetrics.io/docs/usage/deployment/
   */
  "deploy": {
    "production": {
      "user": "adam",
      "host": "82.196.7.65",
      "ref" : "origin/master",
      "repo": "https://github.com/adambrgmn/pomodore.git",
      "path": "~/prod/pomodore",
      "post-deploy": "npm install ; gulp build ; cd dist ; npm install --production ; pm2 startOrRestart ecosystem.json --env production",
      "env": {
        "NODE_ENV": "production"
      }
    },
    "dev": {
      "user": "adam",
      "host": "82.196.7.65",
      "ref" : "origin/develop",
      "repo": "https://github.com/adambrgmn/pomodore.git",
      "path": "~/dev/pomodore",
      "post-deploy": "npm install ; pm2 startOrRestart ecosystem.json --env dev",
      "env": {
        "NODE_ENV": "development"
      }
    }
  }
}
